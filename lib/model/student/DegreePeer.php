<?php


/**
 * Skeleton subclass for performing query and update operations on the 'sch_degree' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Wed Sep 12 01:53:16 2012
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model.student
 */
class DegreePeer extends BaseDegreePeer {

  public static function getDegreeArray($period_id = null, $not_empty = null)
  {
    $criteria = new Criteria();
    
    if($period_id)
    {
	 $criteria->addJoin(self::ID, GradePeer::DEGREE_ID);
	 $criteria->addJoin(GradePeer::ID, ContractGradePeer::GRADE_ID);
	 $criteria->addJoin(ContractGradePeer::CONTRACT_ID, ContractPeer::ID);
	 $criteria->add(ContractPeer::PERIOD_ID, $period_id);
    }    
    
    $criteria->addGroupByColumn(self::ID);
    
    $degrees = self::doSelect($criteria);
    
    if($not_empty)
    {        
        $array_degree = array();
    } else {
        $array_degree = array(0 => '');
    }
        
    foreach ($degrees as $degree)
    {
	$array_degree[$degree->getId()] = (string) $degree->getName();
    }
 
    return $array_degree;
  }
  
} // DegreePeer
