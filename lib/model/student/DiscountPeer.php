<?php


/**
 * Skeleton subclass for performing query and update operations on the 'sch_discount' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Fri Sep 28 00:21:36 2012
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model.student
 */
class DiscountPeer extends BaseDiscountPeer {

   public static function saveDiscount($data, $discount = null,  $con = null)
   {
      if(!is_object($discount))
      {
	 $discount = new Discount();
      }
      
      PropertySetter::set($discount, $data);
      
      $discount->save($con);
      
      return $discount;
   }
   
   public static function getDiscounts($id_state = null)
   {
      $criteria = new Criteria();
      
      if($id_state)
      {
	$criteria->add(self::ID_STATE, $id_state); 
      }
      
      $criteria->addAscendingOrderByColumn(self::NAME);
      
      return self::doSelect($criteria);
   }
   
   public static function getArrayDiscount($id_state = null)
   {
      $array_discount = array();
      
      $discounts = self::getDiscounts($id_state);
      
      foreach ($discounts as $discount)
      {
	 $array_discount[$discount->getId()] = $discount->getName().' ('.$discount->getDiscount().' %)';
      }
      
      return $array_discount;
   }
   
   
} // DiscountPeer
